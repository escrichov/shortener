{% extends 'base.html' %}
{% load static %}
{% load i18n %}
{% block content %}

<h3>{% trans "Stats for" %}: {{ url.full_short_url }}</h3>
<div class="btn-group mb-5" role="group" aria-label="Filter">
  <button type="button" class="btn btn-primary">24 h</button>
  <button type="button" class="btn btn-primary">7 days</button>
  <button type="button" class="btn btn-primary">1 month</button>
</div>
<div>
  <h4>{% trans "Clicks" %}</h1>
  <p>{% trans "Total clicks" %}: {{ url.clicks }}</p>
  <canvas id="click_stats_id" width="200" height="75"></canvas>
</div>
<div class="row mt-5">
  <div class="col-sm">
    <h4>{% trans "Referals" %}</h1>
    <canvas id="referal_stats_id" width="200" height="75"></canvas>
  </div>
  <div class="col-sm mt-5 mt-sm-0">
    <h4>{% trans "Browsers" %}</h1>
    <canvas id="browser_stats_id" width="200" height="75"></canvas>
  </div>
</div>
<div class="row mt-5">
  <div class="col-sm">
    <h4>{% trans "Country" %}</h1>
    <canvas id="country_stats_id" width="200" height="75"></canvas>
  </div>
  <div class="col-sm mt-5 mt-sm-0">
    <h4>{% trans "OS" %}</h1>
    <canvas id="os_stats_id" width="200" height="75"></canvas>
  </div>
</div>

{% endblock %}

{% block javascript_data %}
<script type="text/javascript">
  var referal_stats = {{ referal_stats_javascript | safe }};
  var country_stats = {{ country_stats_javascript | safe }};
  var browser_stats = {{ browser_stats_javascript | safe }};
  var os_stats = {{ os_stats_javascript | safe }};
  var click_stats = {{ click_stats_javascript | safe }};
</script>
<script src="{% static 'shortener_app/js/vendor/Chart.min.js' %}"></script>
<script src="{% static 'shortener_app/js/components/stats.min.js' %}"></script>
{% endblock %}
